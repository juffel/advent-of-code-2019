defmodule AdventOfCode19.Day01 do
  def calculate_first do
    input_masses_first()
    |> Enum.map(&fuel_required_simple/1)
    |> Enum.sum()
  end

  def calculate_second do
    input_masses_second()
    |> Enum.map(&fuel_required/1)
    |> Enum.sum()
  end

  def fuel_required_simple(mass) do
    floor(mass / 3) - 2
  end

  def fuel_required(mass) when mass < 6 do
    0
  end

  def fuel_required(mass) do
    fuel = fuel_required_simple(mass)
    fuel + fuel_required(fuel)
  end

  def input_masses_first do
    [
      88397,
      140_448,
      79229,
      122_289,
      143_507,
      71642,
      145_178,
      149_729,
      104_257,
      109_287,
      136_937,
      131_253,
      88847,
      143_302,
      104_210,
      56054,
      137_178,
      134_861,
      117_151,
      103_772,
      135_590,
      64319,
      53682,
      101_137,
      52772,
      142_235,
      88312,
      146_564,
      131_670,
      74925,
      126_276,
      109_028,
      95438,
      56083,
      77649,
      135_414,
      52079,
      83883,
      92754,
      69122,
      77489,
      142_896,
      126_195,
      78749,
      133_146,
      107_841,
      75897,
      70156,
      128_501,
      113_859,
      64823,
      147_935,
      72855,
      139_576,
      125_827,
      57409,
      113_492,
      85048,
      89204,
      68744,
      120_464,
      118_813,
      102_856,
      117_750,
      130_545,
      65139,
      77010,
      139_609,
      88580,
      104_355,
      99680,
      82451,
      141_198,
      142_489,
      121_556,
      66616,
      121_318,
      149_517,
      135_978,
      126_001,
      70211,
      73221,
      52727,
      82621,
      143_301,
      64186,
      75382,
      130_742,
      135_248,
      129_867,
      78189,
      148_444,
      95969,
      106_317,
      147_315,
      81697,
      131_555,
      56152,
      105_759,
      117_769
    ]
  end

  def input_masses_second do
    [
      88397,
      140_448,
      79229,
      122_289,
      143_507,
      71642,
      145_178,
      149_729,
      104_257,
      109_287,
      136_937,
      131_253,
      88847,
      143_302,
      104_210,
      56054,
      137_178,
      134_861,
      117_151,
      103_772,
      135_590,
      64319,
      53682,
      101_137,
      52772,
      142_235,
      88312,
      146_564,
      131_670,
      74925,
      126_276,
      109_028,
      95438,
      56083,
      77649,
      135_414,
      52079,
      83883,
      92754,
      69122,
      77489,
      142_896,
      126_195,
      78749,
      133_146,
      107_841,
      75897,
      70156,
      128_501,
      113_859,
      64823,
      147_935,
      72855,
      139_576,
      125_827,
      57409,
      113_492,
      85048,
      89204,
      68744,
      120_464,
      118_813,
      102_856,
      117_750,
      130_545,
      65139,
      77010,
      139_609,
      88580,
      104_355,
      99680,
      82451,
      141_198,
      142_489,
      121_556,
      66616,
      121_318,
      149_517,
      135_978,
      126_001,
      70211,
      73221,
      52727,
      82621,
      143_301,
      64186,
      75382,
      130_742,
      135_248,
      129_867,
      78189,
      148_444,
      95969,
      106_317,
      147_315,
      81697,
      131_555,
      56152,
      105_759,
      117_769
    ]
  end
end
